<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head />
<body>

            <h1>Projet de Conception et Developpement</h1>
            <c:if test="#{authBean.statut=='etudiant'}">
            <c:if test="#{etudBean.adm.PCD_choix==true}">
            <h:form>
	<h:dataTable id="listPCD" value="#{etudBean.listPCD}" var="pcd"
		border="1">
    <f:facet name="header">
        <h:outputText value="Liste des sujets proposés" />
    </f:facet>
    <h:column>
        <f:facet name="header">
            <h:outputText value="Id" />
        </f:facet>
        <h:outputText value="#{pcd.id}" />
    </h:column>
<h:column>
        <f:facet name="header">
            <h:outputText value="Sujet" />
        </f:facet>
        <h:outputText value="#{pcd.sujet}" />
    </h:column>
<h:column>
        <f:facet name="header">
            <h:outputText value="Description" />
        </f:facet>
        <h:outputText value="#{pcd.description_PCD}" />
    </h:column>
    <h:column>
        <f:facet name="header">
            <h:outputText value="Encadrant" />
        </f:facet>
        <h:outputText value="#{etudBean.AfficheEnseignant(pcd.encadrant)}" />
    </h:column>
 <h:column>
        <f:facet name="header">
            <h:outputText value="Departement" />
        </f:facet>
        <h:outputText value="#{etudBean.AfficheDepartement(pcd.departement)}" />
    </h:column>
    
	</h:dataTable>
	<c:if test="#{etudBean.date.before(etudBean.adm.getPCD_dateChoix())}">
	 <h2>Remplissez Votre Liste de choix</h2><div>
	 <h:outputText value="Id du 1er co-équipier*"/>
	 <h:inputText value="#{etudBean.coEquip1}" required="true" />
	 </div><div>
	  <h:outputText value="Id du 2eme co-équipier"/>
	 <h:inputText value="#{etudBean.coEquip2}"/>
	 </div>
  <h:dataTable value="#{etudBean.listChx}"  var="chx">
    <h:column>
      <f:facet name="header">
      <h:outputText value="Choissez vos choix tout en respectant les rangs" />
      </f:facet>
      <h:selectOneMenu value="#{chx.pcd}">
    <f:selectItems value="#{etudBean.listPCD}" var="pcd" itemValue="#{pcd.id}" itemLabel="#{pcd.sujet}"/>
							
</h:selectOneMenu>

    </h:column>
    
  </h:dataTable>
  <h:commandButton actionListener="#{etudBean.SaisirChoixPCD}" value="Go !"/></c:if>
  </h:form>
  
</c:if>
</c:if>
<h:form>
<c:if test="#{authBean.statut=='chefdepart'}">
<c:if test="#{chefDepartBean.adm==null}">
<h:outputText> Regluez les dates</h:outputText>
</c:if>
</c:if>
</h:form>
<h:form>
	<div>
	<h:commandLink action="Acceuil"
					value="Acceuil" styleClass="link" />
					</div>
					<div>
	<h:commandLink action="#{authBean.logout()}"
					value="déconnexion" styleClass="link" />
					</div>
					</h:form>
					
    
</body>
</html>